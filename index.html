<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>EWS Bed Space Table ‚Äì CCDHB v12.3</title>
<link rel="stylesheet" href="style.css?v=12.3">
</head>
<body>

<h2>ICU / Ward Early Warning Score Table (CCDHB)</h2>

<div class="toolbar">
  <div class="left">
    <label class="switch">
      <input type="checkbox" id="strictToggle" checked>
      <span class="slider"></span>
    </label>
    <span class="toggle-label"><strong>Require full row to score</strong></span>

    <label class="switch" style="margin-left:18px;">
      <input type="checkbox" id="cellBandToggle">
      <span class="slider"></span>
    </label>
    <span class="toggle-label">Cell colour follows <em>overall band</em></span>
  </div>

  <div class="right">
    <button id="addRowBtn">‚ûï Add Patient Row</button>
    <button id="clearBtn">Clear Table</button>
    <button id="printBtn">üñ®Ô∏è Print Table</button>
    <button id="refBtn">üìñ Reference</button>
  </div>

  <div class="legend">
    <span class="badge badge-yellow">Yellow (1‚Äì5 or any vital in yellow)</span>
    <span class="badge badge-orange">Orange (6‚Äì7 or any vital in orange)</span>
    <span class="badge badge-red">Red (8‚Äì9 or any vital in red)</span>
    <span class="badge badge-blue">Blue (10+ or any MET)</span>
  </div>
</div>

<table id="ewsTable">
  <thead>
    <tr>
      <th>Bed</th>
      <th>Resp Rate</th>
      <th>SpO‚ÇÇ</th>
      <th>Sup O‚ÇÇ</th>
      <th>HR</th>
      <th>Systolic BP</th>
      <th>Temp ¬∞C</th>
      <th>AVPU</th>
      <th class="remove-col">Remove</th>
    </tr>
  </thead>
  <tbody id="ewsBody"></tbody>
</table>

<div id="printFooter" class="print-only"></div>

<!-- Reference Modal -->
<div id="refModal" class="modal" aria-hidden="true">
  <div class="modal-content">
    <div class="modal-header">
      <h3>CCDHB EWS Reference</h3>
      <button id="refClose" class="close-btn">‚úñ</button>
    </div>
    <div class="modal-body">
      <h4>Scoring Ranges <span class="tag neutral">zone ‚Ä¢ points</span></h4>
      <ul class="ref-list">
        <li><strong>Respiratory Rate</strong>:
          <span class="tag blue">Blue (MET)</span> &lt;5 or &gt;35 ‚Ä¢
          <span class="tag red">Red +3</span> 5‚Äì8, 25‚Äì35 ‚Ä¢
          <span class="tag orange">Orange +2</span> 21‚Äì24 ‚Ä¢
          <span class="tag yellow">Yellow +1</span> 9‚Äì11 ‚Ä¢
          <span class="tag neutral">0</span> 12‚Äì20
        </li>
        <li><strong>SpO‚ÇÇ</strong>:
          <span class="tag red">Red +3</span> ‚â§91 ‚Ä¢
          <span class="tag orange">Orange +2</span> 92‚Äì93 ‚Ä¢
          <span class="tag yellow">Yellow +1</span> 94‚Äì95 ‚Ä¢
          <span class="tag neutral">0</span> ‚â•96
        </li>
        <li><strong>Supplemental O‚ÇÇ</strong>:
          <span class="tag orange">Orange +2</span> Yes ‚Ä¢
          <span class="tag neutral">0</span> No
        </li>
        <li><strong>Heart Rate</strong>:
          <span class="tag blue">Blue (MET)</span> ‚â§39 or ‚â•140 ‚Ä¢
          <span class="tag red">Red +3</span> 40‚Äì49, 130‚Äì139 ‚Ä¢
          <span class="tag orange">Orange +2</span> 111‚Äì129 ‚Ä¢
          <span class="tag yellow">Yellow +1</span> 90‚Äì110 ‚Ä¢
          <span class="tag neutral">0</span> 50‚Äì89
        </li>
        <li><strong>Systolic BP</strong>:
          <span class="tag blue">Blue (MET)</span> ‚â§69 ‚Ä¢
          <span class="tag red">Red +3</span> 70‚Äì89, ‚â•220 ‚Ä¢
          <span class="tag orange">Orange +2</span> 90‚Äì99 ‚Ä¢
          <span class="tag yellow">Yellow +1</span> 100‚Äì109 ‚Ä¢
          <span class="tag neutral">0</span> 110‚Äì219
        </li>
        <li><strong>Temperature ¬∞C</strong>:
          <span class="tag orange">Orange +2</span> ‚â§34.9 or ‚â•39.0 ‚Ä¢
          <span class="tag yellow">Yellow +1</span> 35.0‚Äì35.9, 38.0‚Äì38.9 ‚Ä¢
          <span class="tag neutral">0</span> 36.0‚Äì37.9
        </li>
        <li><strong>AVPU (Alert, Verbal, Pain, Unresponsive, Fitting)</strong>:
          <span class="tag blue">Blue (MET)</span> U or F ‚Ä¢
          <span class="tag red">Red +3</span> V or P ‚Ä¢
          <span class="tag neutral">0</span> A
        </li>
      </ul>

      <h4>About the Toggles</h4>
      <ul class="ref-list">
        <li><strong>Require full row to score</strong>: Score only when <em>all fields</em> are entered. Exception: if any single MET criterion is present, it will still trigger Blue.</li>
        <li><strong>Cell colour follows overall band</strong>: When ON, all vital cells adopt the overall escalation colour (Blue &gt; Red &gt; Orange &gt; Yellow). When OFF, each vital shows its own colour.</li>
      </ul>

      <h4>Mandatory Actions (Orange & Red details)</h4>
      <ul class="ref-list">
        <li><span class="tag orange">Orange</span> House officer review <strong>&lt;60 min</strong> ‚Ä¢ Inform nurse in charge ‚Ä¢ Refer PAR nurse <strong>#6785</strong> ‚Ä¢ Increase frequency of vital signs ‚Ä¢ <strong>Document plan</strong> (intervention, escalation & review timeframe)</li>
        <li><span class="tag red">Red</span> Registrar review <strong>&lt;20 min</strong> ‚Ä¢ <strong>Suggest ICU referral</strong></li>
        <li><span class="tag blue">Blue (MET)</span> Dial <strong>777</strong> ‚Ä¢ State MET ‚Ä¢ Give location ‚Ä¢ Support ABC</li>
        <li><span class="tag yellow">Yellow</span> Manage pain/fever/distress ‚Ä¢ Increase frequency of observations</li>
      </ul>
    </div>
  </div>
</div>

<script src="script.js?v=12.3"></script>
</body>
</html>
